<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fictionary</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <col>
        <row>  
            <!-- Title -->
            <h2>Fictionary</h2>
            <!-- Phase Headers -->
            <h1 id="submissionHeader">Submit Your Definition <span id="definitionCount">(0)</span></h1>
            <h1 id="definitionsHeader">Submitted Definitions</h1>

            <!-- Word of the Round -->
            <h1 id="wordDisplay"><span id="currentWord"><em>Waiting for next word...</em></span></h1>

            <!-- Word Form -->
            <form id="wordForm">
                <input type="text" id="word" class="wordInput" placeholder="Fictionary word">
                <button type="button" class="add" onclick="submitWord()">✓</button>
            </form>
            <button id="startDefinitionsButton" onclick="startDefinitions()" class="important">Start Submitting Definitions</button>
            <div id="useAI">
                <input type="checkbox" id="checkboxUseAI" onclick="toggleUseAI()">
                <label for="checkboxUseAI">Include an AI generated definition</label>
            </div>

            <!-- Definition Form -->
            <form id="definitionForm">
                <label for="definition">Your Definition:</label>
                <textarea id="definition" name="definition" rows="4" cols="40"></textarea>
                <input type="button" value="Submit" onclick="submitDefinition()">
            </form>
            
            <!-- Definitions Container -->
            <div id="definitionsContainer"></div>
            <button id="endSubmissionsButton" onclick="endSubmissions()" class="important">End Submissions</button>
            <button id="nextRoundButton" onclick="nextRound()" class="important">Next Round</button>
        </row>
        <row>
            <div id="scoreboardContainer">
                <!-- Scoreboard -->
                <h2>Scoreboard</h2>
                <div id="playersListContainer">
                    <h3 id="playersHeader">Players</h3>
                    <ul id="playersList" aria-live="polite"></ul>
                </div>
                <template id="playerItemTemplate">
                    <div class="playerItem" data-player-id="">
                        <span class="playerName"></span>
                        <button type="button" class="scoreButton small-btn" onclick="changePlayerPoints(event, -1)">−</button>
                        <span class="playerScore" aria-label="points">0</span>
                        <button type="button" class="scoreButton small-btn" onclick="changePlayerPoints(event, 1)">+</button>
                        <button type="button" class="removePlayerBtn small-btn" onclick="removePlayer(event)">x</button>
                    </div>
                </template>
                <div id="playerControls">
                    <div class="playerInputRow">
                        <input type="text" id="playerName" class="playerName" placeholder="Player name"/>
                        <button type="button" class="add" onclick="addPlayer()">✓</button>
                    </div>
                    <div id="adminButtons">
                        <button type="button" id="clearAllPlayersBtn" onclick="clearAllPlayers()">Clear All Players</button>
                        <button type="button" id="clearScoresBtn" onclick="clearScores()">Clear Scores</button>
                    </div>
                </div>
            </div>
        </row>
    </col>
    <!-- Firebase and Script -->
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <script src="index.js" type="module"></script>
    <script type="importmap">
        {
            "imports": {
            "@google/genai": "https://esm.run/@google/genai"
            }
        }
    </script>
</body>
</html>
